<!DOCTYPE html>
<html lang="pt-br">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Adivinhação</title>
	<style>
		body {
			background-color: rgb(37, 150, 190);
			font: normal 20pt Arial;
		}
		input {
			font: normal 15pt Arial;
		}
		button {
			font: normal 15pt Arial;
		}
	</style>
</head>
<body>
	<h1>Adivinhação de números</h1>
	<p>
		Selecionamos um número aleatório entre 1 e 100. Veja se você consegue adivinhar em 10 turnos ou menos. Diremos se seu palpite foi muito alto ou muito baixo.
	</p>
	<label for="campoPalpite">Digite seu palpite: </label>
	<input type="text" id="campoPalpite" class="campoPalpite" />
	<input type="submit" value="Enviar palpite" class="envioPalpite" />

<div class="resultadoParas">
	<p class="palpites"></p>
	<p class="ultimoResultado"></p>
	<p class="baixoOuAlto"></p>
</div>

	<script>
		var numeroAleatorio = Math.floor(Math.random() * 100) + 1;

		var palpites = document.querySelector(".palpites");
		var ultimoResultado = document.querySelector(".ultimoResultado");
		var baixoOuAlto = document.querySelector(".baixoOuAlto");

		var envioPalpite = document.querySelector(".envioPalpite");
		var campoPalpite = document.querySelector(".campoPalpite");

		var contagemPalpites = 1;
		var botaoReinicio;
		
		function conferirPalpite() {
			var palpiteUsuario = Number(campoPalpite.value);
			if (contagemPalpites === 1) {
				palpites.textContent = "Palpites anteriores: ";
			}
			palpites.textContent += palpiteUsuario + " ";

			if (palpiteUsuario === numeroAleatorio) {
				ultimoResultado.textContent = "Parabéns! Você acertou!";
				ultimoResultado.style.backgroundColor = "green";
				baixoOuAlto.textContent = "";
				configFimDeJogo();
			} else if (contagemPalpites === 10) {
				ultimoResultado.textContent = "!!!FIM DE JOGO!!!";
				baixoOuAlto.textContent = "";
				configFimDeJogo();
			} else {
				ultimoResultado.textContent = "Errado!";
				ultimoResultado.style.backgroundColor = "rgb(150, 0, 0)"; // vermelho mais ameno
				if (palpiteUsuario < numeroAleatorio) {
					baixoOuAlto.textContent = "Seu palpite está muito baixo!";
				} else if (palpiteUsuario > numeroAleatorio) {
					baixoOuAlto.textContent = "Seu palpite está muito alto!";
				}
			}

			contagemPalpites++;
			campoPalpite.value = "";
			campoPalpite.focus();
		}
		envioPalpite.addEventListener("click", conferirPalpite);

		function configFimDeJogo() {
			campoPalpite.disabled = true;
			envioPalpite.disabled = true;
			botaoReinicio = document.createElement("button");
			botaoReinicio.textContent = "Iniciar novo jogo";
			document.body.append(botaoReinicio);
			botaoReinicio.addEventListener("click", reiniciarJogo);
		}

		function reiniciarJogo() {
			contagemPalpites = 1;

			var reiniciarParas = document.querySelectorAll(".resultadoParas p");
			for (var reiniciarPara of reiniciarParas) {
				reiniciarPara.textContent = "";
			}

			botaoReinicio.parentNode.removeChild(botaoReinicio);

			campoPalpite.disabled = false;
			envioPalpite.disabled = false;
			campoPalpite.value = "";
			campoPalpite.focus();

			ultimoResultado.style.backgroundColor = "white";

			numeroAleatorio = Math.floor(Math.random() * 100) + 1;
		}
	</script>
</body>
</html>